<?xml version="1.0" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>

	<!-- FormBeans ============================= -->
	<form-beans>
		<form-bean name="addWarenkorbForm" type="de.kipf.shop.vorgaenge.ui.AddWarenkorbForm" />
		<form-bean name="warenkorbForm" type="de.kipf.shop.vorgaenge.ui.WarenkorbForm"/>
	</form-beans>

	<!-- ActionMappings ======================== -->
	<action-mappings>
		<action path="/ShowWarenkorb"
			type="de.kipf.shop.vorgaenge.ui.WarenkorbverwaltungServlet"
			name="warenkorbForm" 
			scope="session"
			validate="false"
			parameter="showWarenkorb">
			<forward name="fehler" path="/angebotsverwaltung/error.jsp" />
		</action>

		<action path="/CreateWarenkorb"
			    type="de.kipf.shop.vorgaenge.ui.WarenkorbverwaltungServlet"
			    name="warenkorbForm"
			    scope="session"
				validate="false"
				parameter="createWarenkorb">
		</action>

		<action path="/AddItemToWarenkorb"
			type="de.kipf.shop.vorgaenge.ui.WarenkorbverwaltungServlet"
			name="warenkorbForm" 
			scope="session" 
			validate="false"
			parameter="addItemToWarenkorb">
			<exception key="errors.vorgang.angebot.modellnotfound"
					   type="de.kipf.shop.vorgaenge.ui.AngebotException"
					   path="/admin/errorpage.jsp"/>			
			<forward name="warenkorb" path="/vorgaenge/warenkorb.jsp" />
			<forward name="angebote" path="/Angebote" />
		</action>

		<action path="/DeleteItemOfWarenkorb"
			type="de.kipf.shop.vorgaenge.ui.WarenkorbverwaltungServlet"
			parameter="deleteItemOfWarenkorb">
			<forward name="warenkorb" path="/vorgaenge/warenkorb.jsp" />
		</action>

		<action path="/ResetWarenkorb"
			type="de.kipf.shop.vorgaenge.ui.WarenkorbverwaltungServlet"
			parameter="resetWarenkorb">
			<exception key="errors.vorgang.angebot.modellnotfound"
					   type="de.kipf.shop.vorgaenge.ui.AngebotException"
					   path="/admin/errorpage.jsp"/>
			<forward name="warenkorb" path="/vorgaenge/warenkorb.jsp" />
		</action>

		<action path="/FindAuftraege"
			type="de.kipf.shop.vorgaenge.ui.AuftragsverwaltungAction"
			scope="session" validate="false" cancellable="true"
			parameter="findOwnOrders">
			<forward name="liste" path="/auftragsverwaltung/liste.jsp" />
		</action>
		
		<action path="/ForwardKundeninfo"
			parameter="forwardKundeninfo"
			type="de.kipf.shop.vorgaenge.ui.WarenkorbverwaltungServlet">			
			<forward name="kundeninfo" path="/vorgaenge/kundeninfo.jsp"/>
		</action>
		
		<action path="/WarenkorbZuAuftrag"
			name="warenkorbForm" 
			scope="session"
			parameter="warenkorbZuAuftrag"
			type="de.kipf.shop.vorgaenge.ui.WarenkorbverwaltungServlet">			
			<forward name="bestellung" path="/vorgaenge/bestellung.jsp"/>
		</action>
	</action-mappings>
</struts-config>